# API Gateway Route Configuration
# Maps routes to microservices and monolith

routes:
  # Auth Service Routes
  - path: /auth/validate
    target: auth-service
    method: POST
    serviceUrl: http://auth-service:3001/auth/validate

  - path: /auth/sessions/*
    target: auth-service
    method: ALL
    serviceUrl: http://auth-service:3001/auth/sessions

  # Notification Service Routes
  - path: /notifications/send
    target: notification-service
    method: POST
    serviceUrl: http://notification-service:3002/notifications/send

  - path: /notifications/send-bulk
    target: notification-service
    method: POST
    serviceUrl: http://notification-service:3002/notifications/send-bulk

  # Audit Service Routes
  - path: /audit/search
    target: audit-service
    method: GET
    serviceUrl: http://audit-service:3003/audit/search

  - path: /audit/export/csv
    target: audit-service
    method: GET
    serviceUrl: http://audit-service:3003/audit/export/csv

  - path: /audit/*
    target: audit-service
    method: ALL
    serviceUrl: http://audit-service:3003/audit

  # Analytics Service Routes
  - path: /analytics/company/*/stats
    target: analytics-service
    method: GET
    serviceUrl: http://analytics-service:3004/analytics/company

  - path: /analytics/company/*/users
    target: analytics-service
    method: GET
    serviceUrl: http://analytics-service:3004/analytics/company

  - path: /analytics/company/*/departments
    target: analytics-service
    method: GET
    serviceUrl: http://analytics-service:3004/analytics/company

  - path: /analytics/manager/*/performance
    target: analytics-service
    method: GET
    serviceUrl: http://analytics-service:3004/analytics/manager

  # Monolith Routes (all other API routes)
  - path: /api/v1/*
    target: monolith
    method: ALL
    serviceUrl: http://monolith:5500/api/v1

# Health Check Routes (all services)
health:
  - path: /auth/health
    target: auth-service
    serviceUrl: http://auth-service:3001/auth/health

  - path: /notifications/health
    target: notification-service
    serviceUrl: http://notification-service:3002/notifications/health

  - path: /audit/health
    target: audit-service
    serviceUrl: http://audit-service:3003/audit/health

  - path: /analytics/health
    target: analytics-service
    serviceUrl: http://analytics-service:3004/analytics/health

