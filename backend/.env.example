# ============================================
# NOVAPULSE API - Environment Configuration
# Phase 6 - Enterprise Hardening & Scalability
# ============================================

# Application Configuration
NODE_ENV=development
PORT=5500
SERVICE_NAME=novapulse-api
API_VERSION=v1

# Database Configuration (MongoDB)
MONGO_URI=mongodb://localhost:27017/novapulse
MONGO_MAX_POOL_SIZE=10
MONGO_MIN_POOL_SIZE=2
MONGO_MAX_IDLE_TIME_MS=30000
MONGO_SERVER_SELECTION_TIMEOUT=5000
MONGO_SOCKET_TIMEOUT=45000
MONGO_READ_PREFERENCE=primaryPreferred

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CONNECT_TIMEOUT=10000
REDIS_MAX_RETRIES=10

# JWT Authentication
JWT_ACCESS_SECRET=your-super-secret-access-key-change-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
ACCESS_TOKEN_EXPIRE=15m
REFRESH_TOKEN_EXPIRE=7d

# Security & Rate Limiting
THROTTLE_TTL=60
THROTTLE_LIMIT=100
RATE_LIMIT_ENABLED=true
CORS_ORIGIN=http://localhost:3100
ALLOWED_ORIGINS=http://localhost:3100,http://127.0.0.1:3100

# Request Timeouts
REQUEST_TIMEOUT_MS=30000
SERVICE_TIMEOUT_MS=25000
GATEWAY_TIMEOUT_MS=29000

# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RESET_TIMEOUT_MS=60000
CIRCUIT_BREAKER_MONITORING_PERIOD_MS=60000
CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3

# Queue Configuration (BullMQ)
QUEUE_CONCURRENCY=5
QUEUE_RETRY_ATTEMPTS=3
QUEUE_RETRY_DELAY=1000

# Logging Configuration
LOG_LEVEL=info
LOG_FILE_MAX_SIZE=20m
LOG_FILE_MAX_FILES=14d
LOG_AUDIT_RETENTION_DAYS=90
LOG_ERROR_RETENTION_DAYS=30

# AWS Configuration (Production)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_LAMBDA_FUNCTION_NAME=
AWS_REQUEST_ID=
AWS_CLOUDWATCH_LOG_GROUP=novapulse-api

# SQS Configuration (AWS)
SQS_QUEUE_URL=
SQS_DLQ_URL=
SQS_VISIBILITY_TIMEOUT=300
SQS_MESSAGE_RETENTION_PERIOD=345600
SQS_MAX_RECEIVE_COUNT=3

# Email Configuration
MAILTRAP_HOST=smtp.mailtrap.io
MAILTRAP_PORT=2525
MAILTRAP_USER=
MAILTRAP_PASS=
EMAIL_FROM=noreply@novapulse.com
EMAIL_FROM_NAME=NovaPulse

# Frontend Configuration
FRONTEND_URL=http://localhost:3100

# Observability & Monitoring
ENABLE_METRICS=true
ENABLE_TRACING=true
PROMETHEUS_PORT=9090
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=novapulse-api

# Performance & Caching
CACHE_TTL=3600
CACHE_ENABLED=true
CACHE_MAX_SIZE=1000
ENABLE_HTTP_CACHE=true
ETAG_ENABLED=true

# File Storage (S3)
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1
AWS_S3_ACCESS_KEY_ID=
AWS_S3_SECRET_ACCESS_KEY=
S3_PRESIGNED_URL_EXPIRY=3600

# Database Analytics (PostgreSQL - Optional)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=novapulse
POSTGRES_PASSWORD=
POSTGRES_DB=novapulse_analytics
POSTGRES_SSL=false

# Multi-Region Configuration
PRIMARY_REGION=us-east-1
SECONDARY_REGION=us-west-2
ENABLE_MULTI_REGION=false

# Security Hardening
ENABLE_WAF=true
ENABLE_DDOS_PROTECTION=true
ENCRYPT_ENV_VARS=false
KMS_KEY_ID=
SESSION_SECRET=your-session-secret-change-in-production

# Feature Flags
FEATURE_MFA_ENABLED=true
FEATURE_WEBHOOKS_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_AUDIT_LOGS_ENABLED=true

# Development/Testing
DEBUG=false
SEED_TEST_DATA=false
